{{ define "title" }}{{ .Title }}{{ end }}

{{ define "main" }}
  <h1>{{ .Title }}</h1>
  {{ .Content }}
  
  {{ if .Pages }}
    <div class="post-list">
      {{ range .Pages.ByDate.Reverse }}
        {{ if not .Draft }}
        <article class="post-item">
          <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
          <div class="article-meta">
            {{ .Date.Format "January 2, 2006" }} · 
            {{ .ReadingTime }} mins · 
            {{ countwords .Content }} words
          </div>
          <div class="summary">
            {{ .Summary }}
            {{ if .Truncated }}
              <a href="{{ .RelPermalink }}">Read more...</a>
            {{ end }}
          </div>
        </article>
        {{ end }}
      {{ end }}
    </div>
  {{ else }}
    <p>No posts found.</p>
  {{ end }}
{{ end }} 